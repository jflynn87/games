{%extends 'golf_app/golf_app_base.html'%}
{%load golf_extras%}
{%block body_block%}
{%load static%}
<script type="text/javascript" src="{%static 'golf_app/js/total_score_chart.js'%}"></script> 

<p id='season_id' hidden>{{season.pk}}</p>
<p id='user' hidden>{{request.user.username}}</p>
<div>
  <h4 id='chart_status_msg' class='status'>Loading Chart ...</h4>
  <canvas id='trend_chart'></canvas>
</div>

<div>
  <br>
  <h3>Totals and Tournament Results</h3>
  <br>
</div>
<table class="table">
<thead>
  <th>Tournament</th>
  {%for user in user_list%}
  <th>{{user}}</th>
  {%endfor%}
  <th>Winner</th>
  <tr style="background-color: lightblue">
  <th>Prize $</th>
  {%for user, prize in prize_list.items%}
  <td>{{prize|currency}}</td>
  {%endfor%}
  <td></td>
  <tr style="background-color: lightblue">
    <th>Total Points</th>
    {%for total in totals_list%}
    <td>{{total}}</td>
    {%endfor%}
    <td></td>
  </tr>
  <tr style="background-color: lightblue">
  <th>Season Rank</th>
  {%for rank in rank_list%}
  <td>{{rank}}</td>
  {%endfor%}
  <td></td>
  </tr>


</thead>
<tbody>
  <tr>
  {%for t, score in display_dict.items%}
  {%if t == 'totals'%}
  <td>Totals:</td>
  {%else%}
  <td> <a href="{%url 'golf_app:new_scores' pk=t.pk %}">{{t.name}}</td>
  {%endif%}
  {%for s in score%}
    {%if t != "totals"%}
      {%if s.score%}
      <td>{{s.score}}</td>
      {%endif%}
      {%if s.username%}
      <td>{{s.username}}</td>
      {%endif%}
    {%else%}
      <td>{{s}}</td>
    {%endif%}
  {%endfor%}

  </tr>
  {%endfor%}
</tbody>
</table>


{%endblock body_block%}
