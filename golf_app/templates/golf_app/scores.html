{%extends 'golf_app/golf_app_base.html'%}
{%block body_block%}
{% regroup detail_list by user as ordered_detail_list %}

<div class="jumbotron">


<h2>Overall Scores:</h2>


<table class="table table-bordered">
  <thead class='thead-dark'>
    <th>Player</th>
    <th>Score</th>
  </thead>
<tbody>
{%for player in scores%}
  <tr>
    <td>{{player.user}}</td>
    <td>{{player.score}}</td>
  </tr>
{%endfor%}
</tbody>

</table>
<p></p>
<h3 class="p-3 mb-2 bg-secondary text-white">Tournament Info:</h3>
{%for player, score in leader_list.items%}

   <p  style="font-size:100%"> Leader:  {{player}}  : {{score}}</p>

{%endfor%}

{%for status, score in cut_data.items%}
  {%if status == 'No cut this week'%}
    <p style="font-size:100%"> {{status}}</p>
  {%else%}
    <p style="font-size:100%"> {{status}} cut score is {{score}}</p>
  {%endif%}
{%endfor%}
<p></p>
<h3 class="p-3 mb-2 bg-secondary text-white">Score  Details</h3>
<ol>
  {%for user in ordered_detail_list%}
  <li class="display-4">{{user.grouper}}</li>
  <table class="table">
    <th>Golfer</th>
    <th>Rank</th>
    <th>Score to par</th>
    <th>Current Round Score</th>
    <th>Start of Day Position</th>

  {%for pick in user.list%}
    <tr>
      <td>{{pick.player}}</td>
      <td>{{pick.score}}</td>
      <td>{{pick.toPar}}</td>
      {%if pick.today_score == 'cut' or pick.today_score == 'not started'%}
          <td>{{pick.today_score}}</td>
      {%else%}
          <td>{{pick.today_score}} thru {{pick.thru}} holes</td>
      {%endif%}
      <td>{{pick.sod_position}}</td>
    </tr>

  {%endfor%}
  </table>


{%endfor%}
</ol>


</div>

{%endblock%}
